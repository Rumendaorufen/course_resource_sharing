2025-10-31 13:40:30 [main] INFO  c.c.CourseResourceSharingApplication - Starting CourseResourceSharingApplication using Java 1.8.0_181 on DESKTOP-3KV9G2E with PID 52180 (D:\university\大模型\期末\Course_resource_sharing\backend\target\classes started by Administrator in D:\university\大模型\期末\Course_resource_sharing)
2025-10-31 13:40:30 [main] DEBUG c.c.CourseResourceSharingApplication - Running with Spring Boot v2.7.13, Spring v5.3.28
2025-10-31 13:40:30 [main] INFO  c.c.CourseResourceSharingApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-31 13:40:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8020 (http)
2025-10-31 13:40:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-31 13:40:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.76]
2025-10-31 13:40:31 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-31 13:40:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1387 ms
2025-10-31 13:40:32 [main] ERROR c.b.m.core.MybatisConfiguration - mapper[com.course.mapper.ResourceMapper.selectResourceList] is ignored, because it exists, maybe from xml file
2025-10-31 13:40:32 [main] DEBUG c.c.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/auth/login']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/auth/register']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/files/**']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/courses/**', GET]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/resources/**', GET]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/dashboard/**', GET]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', POST]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', PUT]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', DELETE]
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/*/grade/**']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_STUDENT')] for Ant [pattern='/assignments/*/submit/**']
2025-10-31 13:40:33 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [authenticated] for any request
2025-10-31 13:40:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d16be4f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17b37e9a, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ffb3aec, org.springframework.security.web.header.HeaderWriterFilter@12a2585b, org.springframework.web.filter.CorsFilter@6bcb12e6, org.springframework.security.web.authentication.logout.LogoutFilter@2c7db926, com.course.security.JwtAuthenticationFilter@6e43ddd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35c4e864, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682af059, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@111d5c97, org.springframework.security.web.session.SessionManagementFilter@1e692555, org.springframework.security.web.access.ExceptionTranslationFilter@fb49fdf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@315105f]
2025-10-31 13:40:33 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-31 13:40:33 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
2025-10-31 13:40:33 [main] INFO  o.f.c.i.license.VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-10-31 13:40:33 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-31 13:40:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Starting...
2025-10-31 13:40:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Start completed.
2025-10-31 13:40:34 [main] INFO  o.f.c.i.d.base.BaseDatabaseType - Database: jdbc:mysql://localhost:3308/course_resource_sharing_data_new (MySQL 8.0)
2025-10-31 13:40:34 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `course_resource_sharing_data_new`: 1.0.1
2025-10-31 13:40:34 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema `course_resource_sharing_data_new` may not be reproducible.
2025-10-31 13:40:34 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `course_resource_sharing_data_new` is up to date. No migration necessary.
2025-10-31 13:40:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8020 (http) with context path '/api'
2025-10-31 13:40:34 [main] INFO  c.c.CourseResourceSharingApplication - Started CourseResourceSharingApplication in 4.138 seconds (JVM running for 5.116)
2025-10-31 13:41:18 [http-nio-8020-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-31 13:41:18 [http-nio-8020-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-31 13:41:18 [http-nio-8020-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/auth/login
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: null
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [POST /auth/login] with attributes [permitAll]
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/auth/login
2025-10-31 13:41:18 [http-nio-8020-exec-1] INFO  com.course.controller.AuthController - 用户登录请求: admin
2025-10-31 13:41:18 [http-nio-8020-exec-1] INFO  c.c.service.impl.UserServiceImpl - 用户尝试登录: admin
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG c.c.security.UserDetailsServiceImpl - Loading user by username: admin
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG c.c.security.UserDetailsServiceImpl - User found: admin
2025-10-31 13:41:18 [http-nio-8020-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-10-31 13:41:19 [http-nio-8020-exec-1] INFO  c.c.service.impl.UserServiceImpl - 用户登录成功: admin
2025-10-31 13:41:19 [http-nio-8020-exec-1] INFO  com.course.controller.AuthController - 用户登录成功: admin
2025-10-31 13:41:19 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /stats
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resources/recent
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /dashboard/recent-assignments
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/dashboard/recent-assignments
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resources/recent
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/stats
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /dashboard/recent-assignments] with attributes [permitAll]
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resources/recent] with attributes [permitAll]
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /dashboard/recent-assignments
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resources/recent
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /stats] with attributes [authenticated]
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/dashboard/recent-assignments
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /stats
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/stats
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resources/recent
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.controller.DashboardController - Received request for stats
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.controller.DashboardController - Received request for assignments
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.controller.DashboardController - Received request for resources
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG c.c.controller.DashboardController - Retrieved 1 assignments
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG c.c.controller.DashboardController - Retrieved stats: {courses=1, assignments=1, resources=2}
2025-10-31 13:41:19 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG c.c.controller.DashboardController - Retrieved 2 resources
2025-10-31 13:41:19 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:19 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/teachers
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/users/teachers
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses] with attributes [permitAll]
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /users/teachers] with attributes [authenticated]
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/teachers
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/users/teachers
2025-10-31 13:41:21 [http-nio-8020-exec-9] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:21 [http-nio-8020-exec-10] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses/all
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses/all] with attributes [permitAll]
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses/all
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:22 [http-nio-8020-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:22 [http-nio-8020-exec-8] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:41:22 [http-nio-8020-exec-8] INFO  c.c.service.impl.ResourceServiceImpl - 从数据库获取资源列表, 数量: 2
2025-10-31 13:41:22 [http-nio-8020-exec-8] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:41:22 [http-nio-8020-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/teachers
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/users/teachers
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /users/teachers] with attributes [authenticated]
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses] with attributes [permitAll]
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/teachers
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/users/teachers
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses
2025-10-31 13:41:23 [http-nio-8020-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:23 [http-nio-8020-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /stats
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/stats
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resources/recent
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resources/recent
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /dashboard/recent-assignments
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/dashboard/recent-assignments
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /stats] with attributes [authenticated]
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /stats
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/stats
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.controller.DashboardController - Received request for stats
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resources/recent] with attributes [permitAll]
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resources/recent
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resources/recent
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.controller.DashboardController - Received request for resources
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /dashboard/recent-assignments] with attributes [permitAll]
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /dashboard/recent-assignments
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/dashboard/recent-assignments
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.controller.DashboardController - Received request for assignments
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG c.c.controller.DashboardController - Retrieved 1 assignments
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG c.c.controller.DashboardController - Retrieved 2 resources
2025-10-31 13:41:23 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:23 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG c.c.controller.DashboardController - Retrieved stats: {courses=1, assignments=1, resources=2}
2025-10-31 13:41:23 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /users/teachers
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/users/teachers
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses] with attributes [permitAll]
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /users/teachers] with attributes [authenticated]
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /users/teachers
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/users/teachers
2025-10-31 13:41:24 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:24 [http-nio-8020-exec-9] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses/all
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses/all] with attributes [permitAll]
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses/all
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:24 [http-nio-8020-exec-7] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:41:24 [http-nio-8020-exec-7] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:41:24 [http-nio-8020-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:24 [http-nio-8020-exec-10] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /resource
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [POST /resource] with attributes [authenticated]
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /resource
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:32 [http-nio-8020-exec-8] INFO  c.c.controller.ResourceController - 开始上传资源文件: 123
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG com.course.security.SecurityUtils - Retrieved current user ID: 1
2025-10-31 13:41:32 [http-nio-8020-exec-8] INFO  c.c.service.impl.ResourceServiceImpl - 开始上传资源, 课程ID: 23, 上传者ID: 1, 文件名: 0523.sql
2025-10-31 13:41:32 [http-nio-8020-exec-8] INFO  c.c.service.impl.ResourceServiceImpl - 课程验证通过, 课程名称: 数据结构
2025-10-31 13:41:32 [http-nio-8020-exec-8] ERROR c.c.service.impl.ResourceServiceImpl - 资源上传失败
java.lang.IllegalArgumentException: 不支持的文件类型
	at com.course.service.impl.FileServiceImpl.storeFile(FileServiceImpl.java:48)
	at com.course.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:66)
	at com.course.service.impl.ResourceServiceImpl$$FastClassBySpringCGLIB$$4406a9b8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.service.impl.ResourceServiceImpl$$EnhancerBySpringCGLIB$$77501457.uploadResource(<generated>)
	at com.course.controller.ResourceController.uploadResource(ResourceController.java:98)
	at com.course.controller.ResourceController$$FastClassBySpringCGLIB$$db2457b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.controller.ResourceController$$EnhancerBySpringCGLIB$$f6008aa.uploadResource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.course.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-10-31 13:41:32 [http-nio-8020-exec-8] ERROR c.c.controller.ResourceController - 资源文件上传失败
com.course.common.exception.FileOperationException: 资源上传失败: 不支持的文件类型
	at com.course.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:95)
	at com.course.service.impl.ResourceServiceImpl$$FastClassBySpringCGLIB$$4406a9b8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.service.impl.ResourceServiceImpl$$EnhancerBySpringCGLIB$$77501457.uploadResource(<generated>)
	at com.course.controller.ResourceController.uploadResource(ResourceController.java:98)
	at com.course.controller.ResourceController$$FastClassBySpringCGLIB$$db2457b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.controller.ResourceController$$EnhancerBySpringCGLIB$$f6008aa.uploadResource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.course.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-10-31 13:41:32 [http-nio-8020-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:32 [http-nio-8020-exec-5] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:41:32 [http-nio-8020-exec-5] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:41:32 [http-nio-8020-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses/all
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses/all] with attributes [permitAll]
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses/all
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:34 [http-nio-8020-exec-3] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:41:34 [http-nio-8020-exec-3] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:41:34 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:34 [http-nio-8020-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /resource
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [POST /resource] with attributes [authenticated]
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /resource
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:51 [http-nio-8020-exec-4] INFO  c.c.controller.ResourceController - 开始上传资源文件: 234
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG com.course.security.SecurityUtils - Retrieved current user ID: 1
2025-10-31 13:41:51 [http-nio-8020-exec-4] INFO  c.c.service.impl.ResourceServiceImpl - 开始上传资源, 课程ID: 23, 上传者ID: 1, 文件名: 0523.sql
2025-10-31 13:41:51 [http-nio-8020-exec-4] INFO  c.c.service.impl.ResourceServiceImpl - 课程验证通过, 课程名称: 数据结构
2025-10-31 13:41:51 [http-nio-8020-exec-4] ERROR c.c.service.impl.ResourceServiceImpl - 资源上传失败
java.lang.IllegalArgumentException: 不支持的文件类型
	at com.course.service.impl.FileServiceImpl.storeFile(FileServiceImpl.java:48)
	at com.course.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:66)
	at com.course.service.impl.ResourceServiceImpl$$FastClassBySpringCGLIB$$4406a9b8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.service.impl.ResourceServiceImpl$$EnhancerBySpringCGLIB$$77501457.uploadResource(<generated>)
	at com.course.controller.ResourceController.uploadResource(ResourceController.java:98)
	at com.course.controller.ResourceController$$FastClassBySpringCGLIB$$db2457b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.controller.ResourceController$$EnhancerBySpringCGLIB$$f6008aa.uploadResource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.course.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-10-31 13:41:51 [http-nio-8020-exec-4] ERROR c.c.controller.ResourceController - 资源文件上传失败
com.course.common.exception.FileOperationException: 资源上传失败: 不支持的文件类型
	at com.course.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:95)
	at com.course.service.impl.ResourceServiceImpl$$FastClassBySpringCGLIB$$4406a9b8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.service.impl.ResourceServiceImpl$$EnhancerBySpringCGLIB$$77501457.uploadResource(<generated>)
	at com.course.controller.ResourceController.uploadResource(ResourceController.java:98)
	at com.course.controller.ResourceController$$FastClassBySpringCGLIB$$db2457b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.controller.ResourceController$$EnhancerBySpringCGLIB$$f6008aa.uploadResource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.course.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-10-31 13:41:51 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:41:51 [http-nio-8020-exec-1] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:41:51 [http-nio-8020-exec-1] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:41:51 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:44:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Shutdown initiated...
2025-10-31 13:44:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Shutdown completed.
2025-10-31 13:44:24 [main] INFO  c.c.CourseResourceSharingApplication - Starting CourseResourceSharingApplication using Java 1.8.0_181 on DESKTOP-3KV9G2E with PID 56792 (D:\university\大模型\期末\Course_resource_sharing\backend\target\classes started by Administrator in D:\university\大模型\期末\Course_resource_sharing)
2025-10-31 13:44:24 [main] DEBUG c.c.CourseResourceSharingApplication - Running with Spring Boot v2.7.13, Spring v5.3.28
2025-10-31 13:44:24 [main] INFO  c.c.CourseResourceSharingApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-31 13:44:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8020 (http)
2025-10-31 13:44:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-31 13:44:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.76]
2025-10-31 13:44:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-31 13:44:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1257 ms
2025-10-31 13:44:25 [main] ERROR c.b.m.core.MybatisConfiguration - mapper[com.course.mapper.ResourceMapper.selectResourceList] is ignored, because it exists, maybe from xml file
2025-10-31 13:44:26 [main] DEBUG c.c.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/auth/login']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/auth/register']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/files/**']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/courses/**', GET]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/resources/**', GET]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/dashboard/**', GET]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', POST]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', PUT]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', DELETE]
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/*/grade/**']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_STUDENT')] for Ant [pattern='/assignments/*/submit/**']
2025-10-31 13:44:26 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [authenticated] for any request
2025-10-31 13:44:26 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1665fa54, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d67f5eb, org.springframework.security.web.context.SecurityContextPersistenceFilter@682af059, org.springframework.security.web.header.HeaderWriterFilter@7b3cde6f, org.springframework.web.filter.CorsFilter@4f654cee, org.springframework.security.web.authentication.logout.LogoutFilter@68d6d775, com.course.security.JwtAuthenticationFilter@c29fe36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5584d9c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d0be7ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e1fd62b, org.springframework.security.web.session.SessionManagementFilter@431e86b1, org.springframework.security.web.access.ExceptionTranslationFilter@12a2585b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18b74ea]
2025-10-31 13:44:26 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-31 13:44:27 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
2025-10-31 13:44:27 [main] INFO  o.f.c.i.license.VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-10-31 13:44:27 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-31 13:44:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Starting...
2025-10-31 13:44:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Start completed.
2025-10-31 13:44:27 [main] INFO  o.f.c.i.d.base.BaseDatabaseType - Database: jdbc:mysql://localhost:3308/course_resource_sharing_data_new (MySQL 8.0)
2025-10-31 13:44:27 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `course_resource_sharing_data_new`: 1.0.1
2025-10-31 13:44:27 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema `course_resource_sharing_data_new` may not be reproducible.
2025-10-31 13:44:27 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `course_resource_sharing_data_new` is up to date. No migration necessary.
2025-10-31 13:44:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8020 (http) with context path '/api'
2025-10-31 13:44:27 [main] INFO  c.c.CourseResourceSharingApplication - Started CourseResourceSharingApplication in 3.769 seconds (JVM running for 4.558)
2025-10-31 13:44:40 [http-nio-8020-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-31 13:44:40 [http-nio-8020-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-31 13:44:40 [http-nio-8020-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-31 13:44:40 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses/all
2025-10-31 13:44:40 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:44:40 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:44:40 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:44:40 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:44:40 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:40 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:44:40 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:44:40 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:44:40 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG c.c.security.UserDetailsServiceImpl - Loading user by username: admin
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG c.c.security.UserDetailsServiceImpl - Loading user by username: admin
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG c.c.security.UserDetailsServiceImpl - User found: admin
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG c.c.security.UserDetailsServiceImpl - User found: admin
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses/all] with attributes [permitAll]
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses/all
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:44:41 [http-nio-8020-exec-1] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:44:41 [http-nio-8020-exec-1] INFO  c.c.service.impl.ResourceServiceImpl - 从数据库获取资源列表, 数量: 2
2025-10-31 13:44:41 [http-nio-8020-exec-1] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:44:41 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:44:41 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /resource
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [POST /resource] with attributes [authenticated]
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /resource
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:44:54 [http-nio-8020-exec-4] INFO  c.c.controller.ResourceController - 开始上传资源文件: 3124
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG com.course.security.SecurityUtils - Retrieved current user ID: 1
2025-10-31 13:44:54 [http-nio-8020-exec-4] INFO  c.c.service.impl.ResourceServiceImpl - 开始上传资源, 课程ID: 23, 上传者ID: 1, 文件名: 0523.sql
2025-10-31 13:44:54 [http-nio-8020-exec-4] INFO  c.c.service.impl.ResourceServiceImpl - 课程验证通过, 课程名称: 数据结构
2025-10-31 13:44:54 [http-nio-8020-exec-4] ERROR c.c.service.impl.ResourceServiceImpl - 资源上传失败
java.lang.IllegalArgumentException: 不支持的文件类型
	at com.course.service.impl.FileServiceImpl.storeFile(FileServiceImpl.java:64)
	at com.course.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:66)
	at com.course.service.impl.ResourceServiceImpl$$FastClassBySpringCGLIB$$4406a9b8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.service.impl.ResourceServiceImpl$$EnhancerBySpringCGLIB$$12e724dd.uploadResource(<generated>)
	at com.course.controller.ResourceController.uploadResource(ResourceController.java:98)
	at com.course.controller.ResourceController$$FastClassBySpringCGLIB$$db2457b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.controller.ResourceController$$EnhancerBySpringCGLIB$$cd8f1db7.uploadResource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.course.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-10-31 13:44:54 [http-nio-8020-exec-4] ERROR c.c.controller.ResourceController - 资源文件上传失败
com.course.common.exception.FileOperationException: 资源上传失败: 不支持的文件类型
	at com.course.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:95)
	at com.course.service.impl.ResourceServiceImpl$$FastClassBySpringCGLIB$$4406a9b8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.service.impl.ResourceServiceImpl$$EnhancerBySpringCGLIB$$12e724dd.uploadResource(<generated>)
	at com.course.controller.ResourceController.uploadResource(ResourceController.java:98)
	at com.course.controller.ResourceController$$FastClassBySpringCGLIB$$db2457b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.course.controller.ResourceController$$EnhancerBySpringCGLIB$$cd8f1db7.uploadResource(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.course.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2025-10-31 13:44:54 [http-nio-8020-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:44:54 [http-nio-8020-exec-3] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:44:54 [http-nio-8020-exec-3] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:44:54 [http-nio-8020-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses/all
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses/all] with attributes [permitAll]
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses/all
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:44:56 [http-nio-8020-exec-5] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:44:56 [http-nio-8020-exec-5] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:44:56 [http-nio-8020-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:44:56 [http-nio-8020-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:47:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Shutdown initiated...
2025-10-31 13:47:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Shutdown completed.
2025-10-31 13:47:21 [main] INFO  c.c.CourseResourceSharingApplication - Starting CourseResourceSharingApplication using Java 1.8.0_181 on DESKTOP-3KV9G2E with PID 24080 (D:\university\大模型\期末\Course_resource_sharing\backend\target\classes started by Administrator in D:\university\大模型\期末\Course_resource_sharing)
2025-10-31 13:47:21 [main] DEBUG c.c.CourseResourceSharingApplication - Running with Spring Boot v2.7.13, Spring v5.3.28
2025-10-31 13:47:21 [main] INFO  c.c.CourseResourceSharingApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-31 13:47:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8020 (http)
2025-10-31 13:47:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-31 13:47:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.76]
2025-10-31 13:47:23 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-10-31 13:47:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1382 ms
2025-10-31 13:47:23 [main] ERROR c.b.m.core.MybatisConfiguration - mapper[com.course.mapper.ResourceMapper.selectResourceList] is ignored, because it exists, maybe from xml file
2025-10-31 13:47:24 [main] DEBUG c.c.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/auth/login']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/auth/register']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/files/**']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/courses/**', GET]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/resources/**', GET]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [permitAll] for Ant [pattern='/dashboard/**', GET]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', POST]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', PUT]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/**', DELETE]
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_TEACHER')] for Ant [pattern='/assignments/*/grade/**']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [hasRole('ROLE_STUDENT')] for Ant [pattern='/assignments/*/submit/**']
2025-10-31 13:47:24 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression [authenticated] for any request
2025-10-31 13:47:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17b37e9a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bcb12e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@786ff1cb, org.springframework.security.web.header.HeaderWriterFilter@21b6c9c2, org.springframework.web.filter.CorsFilter@111d5c97, org.springframework.security.web.authentication.logout.LogoutFilter@2577a95d, com.course.security.JwtAuthenticationFilter@6e43ddd6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32a2a6be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f36c8e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29c17c3d, org.springframework.security.web.session.SessionManagementFilter@3ba0ae41, org.springframework.security.web.access.ExceptionTranslationFilter@3a2e9f5b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b61bf11]
2025-10-31 13:47:24 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-10-31 13:47:25 [main] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 8.5.13 by Redgate
2025-10-31 13:47:25 [main] INFO  o.f.c.i.license.VersionPrinter - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-10-31 13:47:25 [main] INFO  o.f.c.i.license.VersionPrinter - 
2025-10-31 13:47:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Starting...
2025-10-31 13:47:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Start completed.
2025-10-31 13:47:25 [main] INFO  o.f.c.i.d.base.BaseDatabaseType - Database: jdbc:mysql://localhost:3308/course_resource_sharing_data_new (MySQL 8.0)
2025-10-31 13:47:25 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `course_resource_sharing_data_new`: 1.0.1
2025-10-31 13:47:25 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema `course_resource_sharing_data_new` may not be reproducible.
2025-10-31 13:47:25 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `course_resource_sharing_data_new` is up to date. No migration necessary.
2025-10-31 13:47:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8020 (http) with context path '/api'
2025-10-31 13:47:25 [main] INFO  c.c.CourseResourceSharingApplication - Started CourseResourceSharingApplication in 4.018 seconds (JVM running for 4.879)
2025-10-31 13:47:31 [http-nio-8020-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-31 13:47:31 [http-nio-8020-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-31 13:47:31 [http-nio-8020-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /courses/all
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.UserDetailsServiceImpl - Loading user by username: admin
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.UserDetailsServiceImpl - Loading user by username: admin
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.UserDetailsServiceImpl - User found: admin
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.UserDetailsServiceImpl - User found: admin
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /courses/all] with attributes [permitAll]
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /courses/all
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/courses/all
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:47:31 [http-nio-8020-exec-2] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:47:31 [http-nio-8020-exec-2] INFO  c.c.service.impl.ResourceServiceImpl - 从数据库获取资源列表, 数量: 2
2025-10-31 13:47:31 [http-nio-8020-exec-2] INFO  c.c.controller.ResourceController - 成功获取到 2 个资源
2025-10-31 13:47:31 [http-nio-8020-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:47:31 [http-nio-8020-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /resource
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [POST /resource] with attributes [authenticated]
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /resource
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.controller.ResourceController - 开始上传资源文件: 234
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG com.course.security.SecurityUtils - Retrieved current user ID: 1
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.ResourceServiceImpl - 开始上传资源, 课程ID: 23, 上传者ID: 1, 文件名: 0523.sql
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.ResourceServiceImpl - 课程验证通过, 课程名称: 数据结构
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.service.impl.FileServiceImpl - 创建上传目录: D:\university\大模型\期末\Course_resource_sharing\uploads\2025\10\31
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG c.c.service.impl.FileServiceImpl - 目标文件路径: D:\university\大模型\期末\Course_resource_sharing\uploads\2025\10\31\418a9856-7ec4-4fd8-a1d8-ab3f189f1787.sql
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.FileServiceImpl - 文件保存成功: D:\university\大模型\期末\Course_resource_sharing\uploads\2025\10\31\418a9856-7ec4-4fd8-a1d8-ab3f189f1787.sql
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.ResourceServiceImpl - 文件保存成功, 路径: D:\university\大模型\期末\Course_resource_sharing\uploads\2025\10\31\418a9856-7ec4-4fd8-a1d8-ab3f189f1787.sql
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.ResourceServiceImpl - 准备插入资源记录: Resource(name=234, description=23423, filePath=D:\university\大模型\期末\Course_resource_sharing\uploads\2025\10\31\418a9856-7ec4-4fd8-a1d8-ab3f189f1787.sql, fileName=0523.sql, fileSize=3710, uploaderUserId=1, courseId=23, courseName=null, uploaderName=null, downloadCount=0, type=null, status=1)
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.ResourceServiceImpl - 资源记录插入结果: 1, 资源ID: 115
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.service.impl.ResourceServiceImpl - 资源上传成功, 资源ID: 115
2025-10-31 13:47:42 [http-nio-8020-exec-7] INFO  c.c.controller.ResourceController - 资源文件上传成功: 234
2025-10-31 13:47:42 [http-nio-8020-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /resource
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJh...Rbiw
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Extracted JWT token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2MTg4OTI3OCwiZXhwIjoxNzYxOTc1Njc4fQ.xzFtEH8Ia_HAJ18bVaazGPydWNUzVc9DJUcOZU-Rbiw
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Successfully set authentication for user: admin
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorized filter invocation [GET /resource] with attributes [authenticated]
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /resource
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG c.c.security.JwtAuthenticationFilter - Request path: /api/resource
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG com.course.security.SecurityUtils - Retrieved current user: admin, ID: 1, Role: ADMIN
2025-10-31 13:47:42 [http-nio-8020-exec-8] INFO  c.c.controller.ResourceController - 开始获取资源列表, courseId: null
2025-10-31 13:47:42 [http-nio-8020-exec-8] INFO  c.c.service.impl.ResourceServiceImpl - 从数据库获取资源列表, 数量: 3
2025-10-31 13:47:42 [http-nio-8020-exec-8] INFO  c.c.controller.ResourceController - 成功获取到 3 个资源
2025-10-31 13:47:42 [http-nio-8020-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request
2025-10-31 13:47:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Shutdown initiated...
2025-10-31 13:47:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariCP - Shutdown completed.
